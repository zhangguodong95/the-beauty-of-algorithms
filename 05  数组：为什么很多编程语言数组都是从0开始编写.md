#### 05 | 数组：为什么很多变成语言数组都是从0开始编写?  _5.13

定义：数组是一种**线性表**数据结构。它用一组**连续的内存空间**，来存储一组具有相同**数据类型的**数据。

通过数组的定义有两个要点，一个是线性的数据结构还要一个就是连续的存储空间。所谓的线性结构还包含链表、队列、栈等；非线性结构有二叉树和图。而连续的存储空间存储相同类型的数据，成就了数组具有可以随机访问的属性。

数组的地址对应着base_address的地址，因为它是连续的空间，那么第i号元素的地址可以通过计算得到

```java
//第i号元素对应的地址
a[i]_address = base_address + i * data_type_size
```

同样连续的存储空间让数组可以随机访问的同时也产生了响应的问题，那就是插入和删除操作会比较麻烦。如果我们要插入一个数据，就要把插入位置后面所有的数据都要向后移动一位。<font color=red>如果不考虑数组存储元素的顺序，我们可以通过将新元素插入到i元素的位置，而将i元素放到数组的末尾的方式来实现时间复杂度由O(n)变成O(1)</font>

同理数组的删除操作时间复杂度也是O(n)，要删除第i号元素，并且将之后的元素都向前移动一位。<font color=red>如果要对删除操作进行优化，可以将要删除的元素记录为删除状态，等到数组满了以后再进行统一的删除，这样就可以提高性能。</font>

**容器能否完全代替数组？**

数组是一种非常基础的存储数据的数据结构，在java中有ArraryList容器。ArraryList的优势就是它封装了数组对数据操作的一些细节，比如删除数组数据插入等操作，同时它可以自动扩容，当数组大小不够大的时候，它可以自动进行1.5倍扩容。扩容就是一个申请内存空间，然后复制数据的过程，很耗费时间。所以如果数据存储数据大小时知道的那么尽量使用设置大小的ArraryList。

在通常的工程中我们使用ArraryList就足够了，只有非常关注性能时候，才会使用数组，因为ArraryList不能存储基本数据类型，所以会对基本数据类型进行自动装箱变成Integer类等，会有一定的性能损耗。